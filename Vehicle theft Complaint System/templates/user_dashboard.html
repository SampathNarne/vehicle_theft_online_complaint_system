{% extends 'base.html' %}

{% block title %}User Dashboard - Vehicle Theft Complaint System{% endblock %}

{% block content %}
    <header>
        <h1>Welcome to Your Dashboard, {{ session['username'] }}</h1>
        <p>Here you can view the status of your vehicle theft complaints and track progress.</p>
    </header>

    <section class="dashboard-stats">
        <h2>Complaint Statistics</h2>
        <div class="stats-grid">
            <div class="stat-item">
                <h3>Total Complaints</h3>
                <p>{{ total_complaints }}</p>
            </div>
            <div class="stat-item">
                <h3>Complaints Solved</h3>
                <p>{{ solved_complaints }}</p>
            </div>
            <div class="stat-item">
                <h3>Pending Complaints</h3>
                <p>{{ pending_complaints }}</p>
            </div>
        </div>
    </section>

    <section class="precautions">
        <h2>Vehicle Theft Prevention Tips</h2>
        <ul>
            <li><strong>Park in Well-Lit Areas:</strong> Always park your vehicle in a well-lit, busy area.</li>
            <li><strong>Use Anti-Theft Devices:</strong> Consider using steering wheel locks, GPS tracking systems, or car alarms.</li>
            <li><strong>Lock Your Doors and Windows:</strong> Never leave your car unlocked, even for a short period of time.</li>
            <li><strong>Remove Valuables:</strong> Do not leave valuables in plain sight, as they can attract thieves.</li>
            <li><strong>Install a Car Immobilizer:</strong> A car immobilizer prevents the engine from running without the correct key or fob.</li>
        </ul>
    </section>

    <section class="recent-complaints">
        <h2>Recent Complaints</h2>
        <ul>
            {% for complaint in recent_complaints %}
                <li>{{ complaint.title }} (Status: {{ complaint.status }})</li>
            {% endfor %}
        </ul>
    </section>

    <section class="user-complaints">
        <h2>Your Complaints</h2>

        {% if complaints %}
            <table>
                <thead>
                    <tr>
                        <th>Vehicle Type</th>
                        <th>Vehicle Model</th>
                        <th>Registration Number</th>
                        <th>Theft Date</th>
                        <th>Theft Location</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for complaint in complaints %}
                        <tr>
                            <td>{{ complaint.vehicle_type }}</td>
                            <td>{{ complaint.vehicle_model }}</td>
                            <td>{{ complaint.registration_number }}</td>
                            <td>{{ complaint.theft_date }}</td>
                            <td>{{ complaint.theft_location }}</td>
                            <td>{{ complaint.status }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>You haven't submitted any complaints yet.</p>
        {% endif %}
    </section>
{% endblock %}
